# Обновление главной страницы дашборда

## Обзор изменений

В рамках обновления главной страницы дашборда (`/dashboard/main.html`) были внесены следующие изменения:

1. **Добавлены блоки с актуальными данными:**
   - Задачи на сегодня (включая просроченные)
   - События на сегодня
   - Покупки

2. **Интеграция с API:**
   - Использованы те же API-методы, что и в WebApp
   - Добавлена обработка ошибок и состояний загрузки
   - Реализована параллельная загрузка данных

3. **Улучшен пользовательский интерфейс:**
   - Добавлены стили для списков и карточек
   - Реализованы состояния "пусто" и "загрузка"
   - Добавлены кнопки для быстрого доступа к соответствующим разделам

## Технические детали

### API-методы

Для получения данных используются следующие API-методы:

```javascript
// Задачи на сегодня (включая просроченные)
fetch(`/api/tasks/today?user_id=${userId}`)

// События на сегодня
fetch(`/api/events/today?user_id=${userId}`)

// Покупки
fetch(`/api/shopping/today?user_id=${userId}`)
```

### Структура данных

#### Задачи
```json
{
  "overdue": [
    {
      "id": 1,
      "title": "Просроченная задача",
      "due_date": "2023-05-10T15:00:00",
      "priority": "важная",
      "project_name": "Проект",
      "project_color": "#6366f1"
    }
  ],
  "today": [
    {
      "id": 2,
      "title": "Задача на сегодня",
      "due_date": "2023-05-15T10:00:00",
      "priority": "обычная",
      "project_name": "Проект",
      "project_color": "#6366f1"
    }
  ]
}
```

#### События
```json
[
  {
    "id": 1,
    "title": "Встреча",
    "start_at": "2023-05-15T14:00:00",
    "location": "Офис",
    "project_name": "Проект",
    "project_color": "#6366f1"
  }
]
```

#### Покупки
```json
[
  {
    "id": 1,
    "item": "Молоко",
    "quantity": 2
  }
]
```

## Преимущества обновления

1. **Улучшенный пользовательский опыт:**
   - Пользователь сразу видит актуальные задачи и события
   - Не нужно переходить в отдельные разделы для просмотра данных
   - Быстрый доступ к часто используемым функциям

2. **Единообразие интерфейса:**
   - Дашборд и WebApp используют одинаковые API и похожий интерфейс
   - Пользователю легче переключаться между версиями

3. **Улучшенная производительность:**
   - Параллельная загрузка данных
   - Оптимизированный рендеринг списков

## Скриншоты

_Скриншоты будут добавлены после тестирования_

## Дальнейшие улучшения

1. Добавить возможность отметить задачу как выполненную прямо с главной страницы
2. Реализовать обновление данных без перезагрузки страницы
3. Добавить фильтрацию и сортировку данных
4. Реализовать персонализированные рекомендации на основе активности пользователя
5. Добавить виджеты с аналитикой (количество выполненных задач, статистика и т.д.)