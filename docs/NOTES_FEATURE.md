# Раздел "Заметки" в Dashboard

## Описание

Раздел "Заметки" позволяет пользователям создавать, редактировать, просматривать и удалять личные заметки с поддержкой Markdown разметки.

## Структура файлов

### HTML страницы
- `/dashboard/notes.html` - Главная страница со списком заметок
- `/dashboard/note-create.html` - Страница создания/редактирования заметки
- `/dashboard/note-view.html` - Страница просмотра заметки

### API Endpoints
- `GET /api/notes?user_id={id}` - Получить все заметки пользователя
- `GET /api/notes/{note_id}?user_id={id}` - Получить заметку по ID
- `POST /api/notes` - Создать новую заметку
- `PUT /api/notes/{note_id}` - Обновить заметку
- `DELETE /api/notes/{note_id}?user_id={id}` - Удалить заметку

### База данных
Таблица `notes`:
```sql
CREATE TABLE notes (
    id SERIAL PRIMARY KEY,
    user_id BIGINT NOT NULL,
    title TEXT NOT NULL,
    content TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

## Функциональность

### Страница списка заметок (`notes.html`)
- **Отображение**: Заметки отображаются в виде карточек (плиток)
- **Группировка**: Заметки группируются по месяцам создания
- **Информация на карточке**: Название, превью содержимого, дата создания
- **Поиск**: Поиск по названию и содержимому заметок
- **Действия**: Просмотр, редактирование, удаление заметки

### Страница создания/редактирования (`note-create.html`)
- **Поля**: Название заметки и содержимое
- **Редактор**: Два режима - "Редактор" и "Markdown"
  - **Режим "Редактор"**: WYSIWYG редактор с кнопками форматирования
  - **Режим "Markdown"**: Отображение исходного кода Markdown
- **Панель инструментов**: Кнопки для форматирования текста
  - Жирный текст (**bold**)
  - Курсив (*italic*)
  - Заголовки (# ## ###)
  - Списки (- и 1.)
  - Ссылки [text](url)
  - Код `code` и блоки кода ```
  - Цитаты > quote
- **Предварительный просмотр**: В режиме "Markdown" показывается отрендеренный результат

### Страница просмотра (`note-view.html`)
- **Отображение**: Полное содержимое заметки с рендерингом Markdown
- **Метаинформация**: Дата создания, дата последнего изменения
- **Действия**: Редактирование, удаление, возврат к списку

## Markdown поддержка

Поддерживаются следующие элементы Markdown:
- Заголовки (# ## ###)
- Жирный и курсивный текст
- Списки (маркированные и нумерованные)
- Ссылки
- Код (инлайн и блоки)
- Цитаты
- Горизонтальные разделители

## Стилизация

Используется единая стилистика из UI Kit:
- Стеклянный эффект (backdrop-filter)
- Градиентные фоны
- Анимации и переходы
- Адаптивный дизайн
- Темная тема

## Навигация

Раздел "Заметки" добавлен в:
- Боковую навигацию главной страницы
- Мобильное меню
- Navbar всех страниц dashboard

## Безопасность

- Все заметки привязаны к конкретному пользователю
- API проверяет принадлежность заметки пользователю
- HTML контент экранируется для предотвращения XSS

## Использование

1. Перейти в раздел "Заметки" из главного меню
2. Нажать "Создать заметку" для добавления новой заметки
3. Заполнить название и содержимое
4. Использовать кнопки форматирования или писать Markdown вручную
5. Переключаться между режимами "Редактор" и "Markdown"
6. Сохранить заметку
7. Просматривать, редактировать или удалять существующие заметки

## Технические детails

- Заметки загружаются асинхронно через API
- Поиск работает в реальном времени
- Markdown рендерится на клиенте с помощью JavaScript
- Используется временный user_id (88504731) для тестирования
- Все операции с заметками логируются в консоль браузера