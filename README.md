# ๐ Telegram App - ะกะธััะตะผะฐ ัะฟัะฐะฒะปะตะฝะธั ะทะฐะดะฐัะฐะผะธ

ะะพะปะฝะพััะฝะบัะธะพะฝะฐะปัะฝะพะต ะฒะตะฑ-ะฟัะธะปะพะถะตะฝะธะต ั ะฐะฒัะพัะธะทะฐัะธะตะน ัะตัะตะท Telegram, ัะฟัะฐะฒะปะตะฝะธะตะผ ะทะฐะดะฐัะฐะผะธ, ัะพะฑััะธัะผะธ ะธ ะฟะพะบัะฟะบะฐะผะธ.

## โจ ะะพะทะผะพะถะฝะพััะธ

- ๐ **ะะฒัะพัะธะทะฐัะธั ัะตัะตะท Telegram** - ะฑะตะทะพะฟะฐัะฝัะน ะฒัะพะด ัะตัะตะท Telegram Login Widget
- ๐ **ะฃะฟัะฐะฒะปะตะฝะธะต ะทะฐะดะฐัะฐะผะธ** - ัะพะทะดะฐะฝะธะต, ัะตะดะฐะบัะธัะพะฒะฐะฝะธะต, ะพััะปะตะถะธะฒะฐะฝะธะต ะทะฐะดะฐั
- ๐ **ะกะพะฑััะธั ะธ ะผะตัะพะฟัะธััะธั** - ะฟะปะฐะฝะธัะพะฒะฐะฝะธะต ะธ ะฝะฐะฟะพะผะธะฝะฐะฝะธั
- ๐ **ะกะฟะธัะพะบ ะฟะพะบัะฟะพะบ** - ัะพะฒะผะตััะฝะพะต ะฒะตะดะตะฝะธะต ัะฟะธัะบะพะฒ ะฟะพะบัะฟะพะบ
- ๐ฅ **ะัะพะตะบัั** - ะพัะณะฐะฝะธะทะฐัะธั ัะฐะฑะพัั ะฟะพ ะฟัะพะตะบัะฐะผ
- ๐ค **Telegram ะฑะพั** - ัะฒะตะดะพะผะปะตะฝะธั ะธ ะฒะทะฐะธะผะพะดะตะนััะฒะธะต ัะตัะตะท ะฑะพัะฐ
- ๐ฑ **WebApp** - ะผะพะฑะธะปัะฝะฐั ะฒะตััะธั ะดะปั Telegram

## ๐ ะัััััะน ััะฐัั

### ะะฐัะธะฐะฝั 1: Docker (ะะตะบะพะผะตะฝะดัะตััั)

```bash
# 1. ะฃััะฐะฝะพะฒะธัะต Docker Desktop
# https://www.docker.com/products/docker-desktop/

# 2. ะะฐะฟัััะธัะต ะฟัะธะปะพะถะตะฝะธะต
./docker-start.sh

# 3. ะัะบัะพะนัะต ะฒ ะฑัะฐัะทะตัะต
# http://localhost:8000/test-auth
```

### ะะฐัะธะฐะฝั 2: ะะพะบะฐะปัะฝะฐั ัััะฐะฝะพะฒะบะฐ

```bash
# 1. ะฃััะฐะฝะพะฒะธัะต ะทะฐะฒะธัะธะผะพััะธ
pip3 install -r requirements.txt

# 2. ะะฐัััะพะนัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
cp .env.example .env
# ะััะตะดะฐะบัะธััะนัะต .env ัะฐะนะป

# 3. ะะฐะฟัััะธัะต ัะตัะฒะตั
python3 start_server.py
```

## โ๏ธ ะะฐัััะพะนะบะฐ Telegram ะฑะพัะฐ

**ะะะะะ:** ะะปั ัะฐะฑะพัั ะฐะฒัะพัะธะทะฐัะธะธ ะฝัะถะฝะพ ะฝะฐัััะพะธัั ะดะพะผะตะฝ ะฒ @BotFather:

1. ะัะบัะพะนัะต ัะฐั ั [@BotFather](https://t.me/BotFather)
2. ะัะฟัะฐะฒััะต ะบะพะผะฐะฝะดั `/setdomain`
3. ะัะฑะตัะธัะต ะฑะพัะฐ `@rptx_bot`
4. ะัะฟัะฐะฒััะต ะดะพะผะตะฝ: `https://rptx.na4u.ru` (ะธะปะธ ะฒะฐั ะดะพะผะตะฝ)

```bash
# ะะพะปััะธัั ะธะฝัะพัะผะฐัะธั ะพ ะฑะพัะต
python3 get_bot_info.py

# ะะฝััััะบัะธะธ ะฟะพ ะฝะฐัััะพะนะบะต
python3 setup_bot.py
```

## ๐ ะะพัััะฟะฝัะต URL

ะะพัะปะต ะทะฐะฟััะบะฐ ะฟัะธะปะพะถะตะฝะธั:

- **ะขะตัั ะฐะฒัะพัะธะทะฐัะธะธ:** http://localhost:8000/test-auth
- **ะะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ:** http://localhost:8000/dashboard/
- **WebApp:** http://localhost:8000/webapp/
- **Adminer (ะะ):** http://localhost:8080 _(ัะพะปัะบะพ ะฒ Docker)_

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Frontend      โ    โ   Backend       โ    โ   Database      โ
โ                 โ    โ                 โ    โ                 โ
โ โข Dashboard     โโโโโบโ โข FastAPI       โโโโโบโ โข PostgreSQL    โ
โ โข WebApp        โ    โ โข Telegram Bot  โ    โ โข Tables        โ
โ โข Auth Pages    โ    โ โข API Endpoints โ    โ โข Indexes       โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
```

## ๐ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
โโโ ๐ค ะัะบะตะฝะด
โ   โโโ bot.py                 # ะัะฝะพะฒะฝะพะต FastAPI ะฟัะธะปะพะถะตะฝะธะต
โ   โโโ db.py                  # ะะฐะฑะพัะฐ ั ะฑะฐะทะพะน ะดะฐะฝะฝัั
โ   โโโ scheduler.py           # ะะปะฐะฝะธัะพะฒัะธะบ ะทะฐะดะฐั
โ
โโโ ๐ ะคัะพะฝัะตะฝะด
โ   โโโ dashboard/             # ะะตะฑ-ะธะฝัะตััะตะนั
โ   โ   โโโ index.html         # ะกััะฐะฝะธัะฐ ะฐะฒัะพัะธะทะฐัะธะธ
โ   โ   โโโ main.html          # ะะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ
โ   โโโ static/                # WebApp ัะฐะนะปั
โ   โโโ test_auth.html         # ะขะตััะธัะพะฒะฐะฝะธะต ะฐะฒัะพัะธะทะฐัะธะธ
โ
โโโ ๐ณ Docker
โ   โโโ Dockerfile             # ะะฑัะฐะท ะฟัะธะปะพะถะตะฝะธั
โ   โโโ docker-compose.yml     # ะะพะฝัะธะณััะฐัะธั ัะตัะฒะธัะพะฒ
โ   โโโ docker-start.sh        # ะกะบัะธะฟั ะทะฐะฟััะบะฐ
โ   โโโ docker-stop.sh         # ะกะบัะธะฟั ะพััะฐะฝะพะฒะบะธ
โ
โโโ ๐ง ะฃัะธะปะธัั
โ   โโโ get_bot_info.py        # ะะฝัะพัะผะฐัะธั ะพ ะฑะพัะต
โ   โโโ setup_bot.py           # ะะฐัััะพะนะบะฐ ะฑะพัะฐ
โ   โโโ start_server.py        # ะะฐะฟััะบ ัะตัะฒะตัะฐ
โ
โโโ ๐ ะะพะบัะผะตะฝัะฐัะธั
    โโโ README.md              # ะญัะพั ัะฐะนะป
    โโโ DOCKER_README.md       # Docker ะธะฝััััะบัะธะธ
    โโโ TELEGRAM_AUTH_SETUP.md # ะะฐัััะพะนะบะฐ ะฐะฒัะพัะธะทะฐัะธะธ
```

## ๐ ะะตะทะพะฟะฐัะฝะพััั

### ะะฒัะพัะธะทะฐัะธั ัะตัะตะท Telegram
- โ ะัะธัะธะฐะปัะฝัะน Telegram Login Widget
- โ HMAC-SHA256 ะฟัะพะฒะตัะบะฐ ะฟะพะดะฟะธัะธ
- โ ะะฐะปะธะดะฐัะธั ะดะฐะฝะฝัั ะฟะพะปัะทะพะฒะฐัะตะปั
- โ ะะตะทะพะฟะฐัะฝะพะต ััะฐะฝะตะฝะธะต ัะตััะธะน

### ะะฐัััะพะนะบะธ ะฑะตะทะพะฟะฐัะฝะพััะธ
```env
# ะะบะปััะธัั ะฟัะพะฒะตัะบั ะฟะพะดะฟะธัะธ (ะฟัะพะดะฐะบัะตะฝ)
VERIFY_TELEGRAM_SIGNATURE=true

# ะัะฟะพะปัะทะพะฒะฐัั HTTPS
DOMAIN=https://yourdomain.com
```

## ๐๏ธ ะะฐะทะฐ ะดะฐะฝะฝัั

### ะขะฐะฑะปะธัั
- `users` - ะะพะปัะทะพะฒะฐัะตะปะธ
- `projects` - ะัะพะตะบัั
- `tasks` - ะะฐะดะฐัะธ
- `events` - ะกะพะฑััะธั
- `shopping` - ะะพะบัะฟะบะธ
- `logs` - ะะพะณะธ ัะธััะตะผั
- `user_settings` - ะะฐัััะพะนะบะธ ะฟะพะปัะทะพะฒะฐัะตะปะตะน

### ะะพะดะบะปััะตะฝะธะต
```bash
# Docker
docker-compose exec db psql -U postgres -d telegram_app

# ะะพะบะฐะปัะฝะพ (ะตัะปะธ PostgreSQL ัััะฐะฝะพะฒะปะตะฝ)
psql postgresql://postgres:password@localhost:5432/telegram_app
```

## ๐ง API Endpoints

### ะะฒัะพัะธะทะฐัะธั
- `POST /api/auth/telegram` - ะะฒัะพัะธะทะฐัะธั ัะตัะตะท Telegram

### ะะฐะดะฐัะธ
- `GET /api/tasks` - ะะพะปััะธัั ะทะฐะดะฐัะธ
- `POST /api/tasks` - ะกะพะทะดะฐัั ะทะฐะดะฐัั
- `PUT /api/tasks/{id}` - ะะฑะฝะพะฒะธัั ะทะฐะดะฐัั
- `DELETE /api/tasks/{id}` - ะฃะดะฐะปะธัั ะทะฐะดะฐัั

### ะกะพะฑััะธั
- `GET /api/events` - ะะพะปััะธัั ัะพะฑััะธั
- `POST /api/events` - ะกะพะทะดะฐัั ัะพะฑััะธะต
- `PUT /api/events/{id}` - ะะฑะฝะพะฒะธัั ัะพะฑััะธะต

### ะะพะบัะฟะบะธ
- `GET /api/shopping` - ะะพะปััะธัั ะฟะพะบัะฟะบะธ
- `POST /api/shopping` - ะะพะฑะฐะฒะธัั ะฟะพะบัะฟะบั
- `PUT /api/shopping/{id}` - ะะฑะฝะพะฒะธัั ััะฐััั

## ๐๏ธ ะะฐะทัะฐะฑะพัะบะฐ

### ะะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ
```bash
# ะะฐะฟััะบ ั ะฐะฒัะพะฟะตัะตะทะฐะณััะทะบะพะน
python3 start_server.py

# ะัะพัะผะพัั ะปะพะณะพะฒ
tail -f logs/app.log
```

### Docker ัะฐะทัะฐะฑะพัะบะฐ
```bash
# ะะฐะฟััะบ ะฒ ัะตะถะธะผะต ัะฐะทัะฐะฑะพัะบะธ
./docker-start.sh

# ะัะพัะผะพัั ะปะพะณะพะฒ
./docker-logs.sh

# ะะตัะตะทะฐะฟััะบ ัะตัะฒะธัะฐ
docker-compose restart app
```

## ๐จ ะฃัััะฐะฝะตะฝะธะต ะฝะตะฟะพะปะฐะดะพะบ

### ะัะพะฑะปะตะผั ั ะฐะฒัะพัะธะทะฐัะธะตะน
1. ะฃะฑะตะดะธัะตัั, ััะพ ะดะพะผะตะฝ ะฝะฐัััะพะตะฝ ะฒ @BotFather
2. ะัะพะฒะตัััะต ะฟัะฐะฒะธะปัะฝะพััั BOT_TOKEN
3. ะัะพัะตััะธััะนัะต ะฝะฐ `/test-auth`

### ะัะพะฑะปะตะผั ั ะฑะฐะทะพะน ะดะฐะฝะฝัั
1. ะัะพะฒะตัััะต DATABASE_URL
2. ะฃะฑะตะดะธัะตัั, ััะพ PostgreSQL ะทะฐะฟััะตะฝ
3. ะัะพะฒะตัััะต ะฟัะฐะฒะฐ ะดะพัััะฟะฐ

### ะัะพะฑะปะตะผั ั Docker
1. ะฃะฑะตะดะธัะตัั, ััะพ Docker Desktop ะทะฐะฟััะตะฝ
2. ะัะพะฒะตัััะต ัะฒะพะฑะพะดะฝะพะต ะผะตััะพ ะฝะฐ ะดะธัะบะต
3. ะะตัะตะทะฐะฟัััะธัะต Docker

## ๐ ะะพะฝะธัะพัะธะฝะณ

### ะะพะณะธ
```bash
# ะัะต ะปะพะณะธ
docker-compose logs -f

# ะะพะณะธ ะฟัะธะปะพะถะตะฝะธั
docker-compose logs -f app

# ะะพะณะธ ะฑะฐะทั ะดะฐะฝะฝัั
docker-compose logs -f db
```

### ะะตััะธะบะธ
- ะัะฟะพะปัะทะพะฒะฐะฝะธะต ัะตััััะพะฒ: `docker stats`
- ะะฐะทะผะตั ะพะฑัะฐะทะพะฒ: `docker images`
- ะะธัะบะพะฒะพะต ะฟัะพัััะฐะฝััะฒะพ: `docker system df`

## ๐ค ะฃัะฐััะธะต ะฒ ัะฐะทัะฐะฑะพัะบะต

1. ะคะพัะบะฝะธัะต ัะตะฟะพะทะธัะพัะธะน
2. ะกะพะทะดะฐะนัะต ะฒะตัะบั ะดะปั ะฝะพะฒะพะน ััะฝะบัะธะธ
3. ะะฝะตัะธัะต ะธะทะผะตะฝะตะฝะธั
4. ะัะพัะตััะธััะนัะต ะธะทะผะตะฝะตะฝะธั
5. ะกะพะทะดะฐะนัะต Pull Request

## ๐ ะะธัะตะฝะทะธั

MIT License - ัะผ. ัะฐะนะป LICENSE

## ๐ ะะพะดะดะตัะถะบะฐ

- ๐ง Email: support@example.com
- ๐ฌ Telegram: @support_bot
- ๐ Issues: GitHub Issues

---

## ๐ฏ ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั!

1. **ะฃััะฐะฝะพะฒะธัะต Docker Desktop**
2. **ะะฐะฟัััะธัะต:** `./docker-start.sh`
3. **ะะฐัััะพะนัะต ะฑะพัะฐ ะฒ @BotFather**
4. **ะัะบัะพะนัะต:** http://localhost:8000/test-auth

**ะัะธะปะพะถะตะฝะธะต ะณะพัะพะฒะพ ะบ ัะฐะฑะพัะต! ๐**