# üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –§–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –ù–ï –¥–æ–ª–∂–Ω—ã –ø–æ–ø–∞—Å—Ç—å –≤ Git

### üö´ **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ:**

```bash
# –§–∞–π–ª—ã —Å —Å–µ–∫—Ä–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
.env                    # –†–µ–∞–ª—å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã –∏ –ø–∞—Ä–æ–ª–∏
.env.local             # –õ–æ–∫–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
.env.docker            # Docker –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
.env.production        # –ü—Ä–æ–¥–∞–∫—à–µ–Ω –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

# –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
*.db                   # SQLite –±–∞–∑—ã
*.sqlite*              # SQLite —Ñ–∞–π–ª—ã
*.sql                  # –î–∞–º–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

# –õ–æ–≥–∏
logs/                  # –ü–∞–ø–∫–∞ —Å –ª–æ–≥–∞–º–∏
*.log                  # –§–∞–π–ª—ã –ª–æ–≥–æ–≤

# Docker –¥–∞–Ω–Ω—ã–µ
postgres_data/         # –î–∞–Ω–Ω—ã–µ PostgreSQL
```

### ‚úÖ **–ú–æ–∂–Ω–æ –∫–æ–º–º–∏—Ç–∏—Ç—å:**

```bash
.env.example          # –®–∞–±–ª–æ–Ω –Ω–∞—Å—Ç—Ä–æ–µ–∫ (–±–µ–∑ —Å–µ–∫—Ä–µ—Ç–æ–≤)
.gitignore           # –ü—Ä–∞–≤–∏–ª–∞ –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è
docker-compose.yml   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Docker
Dockerfile          # –û–±—Ä–∞–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
README.md           # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîê **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è**

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
```bash
# 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω
cp .env.example .env

# 2. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env —Ñ–∞–π–ª
nano .env

# 3. –î–æ–±–∞–≤—å—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
BOT_TOKEN=7105955108:AAHf4cICJWShQfoixAfvVBt_5a3KleCJw_Q
DOMAIN=http://localhost:8000
VERIFY_TELEGRAM_SIGNATURE=false
```

### –î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
```bash
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞
export BOT_TOKEN="your_real_token"
export DOMAIN="https://yourdomain.com"
export VERIFY_TELEGRAM_SIGNATURE="true"
export DATABASE_URL="postgresql://user:pass@host:5432/db"
```

## üõ°Ô∏è **–£—Ä–æ–≤–Ω–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**

### üîß **–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (localhost)**
```env
VERIFY_TELEGRAM_SIGNATURE=false  # –û—Ç–∫–ª—é—á–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞
LOCAL_DEV_MODE=true             # –í–∫–ª—é—á–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
DOMAIN=http://localhost:8000    # –õ–æ–∫–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω
```

### üöÄ **–ü—Ä–æ–¥–∞–∫—à–µ–Ω (—Å–µ—Ä–≤–µ—Ä)**
```env
VERIFY_TELEGRAM_SIGNATURE=true  # –í–∫–ª—é—á–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏
LOCAL_DEV_MODE=false           # –û—Ç–∫–ª—é—á–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
DOMAIN=https://yourdomain.com  # HTTPS –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ
```

## üîç **–ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**

### –ü–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º:
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ —Ñ–∞–π–ª—ã –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω—ã
git status

# –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ .env —Ñ–∞–π–ª—ã –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è
git check-ignore .env .env.docker

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ–º–º–∏—Ç–∞
git diff --cached
```

### –ï—Å–ª–∏ —Å–ª—É—á–∞–π–Ω–æ –¥–æ–±–∞–≤–∏–ª–∏ —Å–µ–∫—Ä–µ—Ç—ã:
```bash
# –£–¥–∞–ª–∏—Ç–µ —Ñ–∞–π–ª –∏–∑ –∏–Ω–¥–µ–∫—Å–∞ (–Ω–æ –æ—Å—Ç–∞–≤—å—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ)
git rm --cached .env

# –î–æ–±–∞–≤—å—Ç–µ –≤ .gitignore –µ—Å–ª–∏ –µ—â–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ
echo ".env" >> .gitignore

# –ï—Å–ª–∏ —É–∂–µ –∑–∞–∫–æ–º–º–∏—Ç–∏–ª–∏ - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ git filter-branch
# –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```

## üö® **–ß—Ç–æ –¥–µ–ª–∞—Ç—å –ø—Ä–∏ —É—Ç–µ—á–∫–µ —Ç–æ–∫–µ–Ω–∞**

### 1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ:
- –û—Ç–∑–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤ @BotFather
- –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π —Ç–æ–∫–µ–Ω
- –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

### 2. –í @BotFather:
```
/revoke - –æ—Ç–æ–∑–≤–∞—Ç—å —Ç–æ–∫–µ–Ω
/newtoken - —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π
```

### 3. –û–±–Ω–æ–≤–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
```bash
# –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª —Å –Ω–æ–≤—ã–º —Ç–æ–∫–µ–Ω–æ–º
BOT_TOKEN=new_token_here

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
docker-compose restart app
```

## üìã **–ß–µ–∫–ª–∏—Å—Ç –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**

### ‚úÖ –ü–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º:
- [ ] `.env` —Ñ–∞–π–ª—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.gitignore`
- [ ] –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è HTTPS –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
- [ ] –í–∫–ª—é—á–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–ø–∏—Å–∏ Telegram
- [ ] –û—Ç–∫–ª—é—á–µ–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- [ ] –°–ª–æ–∂–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ –¥–ª—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] –õ–æ–≥–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç —Å–µ–∫—Ä–µ—Ç–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

### ‚úÖ –†–µ–≥—É–ª—è—Ä–Ω–æ:
- [ ] –û–±–Ω–æ–≤–ª—è–π—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ –Ω–∞ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—É—é –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å
- [ ] –î–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] –ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

## üîó **–ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏**

- [Telegram Bot Security](https://core.telegram.org/bots#security)
- [OWASP Security Guidelines](https://owasp.org/)
- [Docker Security Best Practices](https://docs.docker.com/engine/security/)

---

## ‚ö° **–ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –Ω–æ–≤–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞**

```bash
# 1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd tg_project

# 2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
cp .env.example .env

# 3. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ —É –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
# (–ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–æ–¥–∞–∫—à–µ–Ω —Ç–æ–∫–µ–Ω –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏!)

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Docker
./docker-start.sh

# 5. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:8000/local-auth
```

**–ì–æ—Ç–æ–≤–æ! –ú–æ–∂–µ—Ç–µ —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ.** üöÄ